(this["webpackJsonpticker-list"]=this["webpackJsonpticker-list"]||[]).push([[0],{160:function(e){e.exports=JSON.parse('{"name":"ticker-list","version":"0.1.0","private":true,"homepage":"https://dayrim.github.io/ticker-list","dependencies":{"@iconify-icons/si-glyph":"^1.1.0","@iconify/react":"^1.1.4","@material-ui/core":"^4.11.4","@material-ui/data-grid":"^4.0.0-alpha.27","@material-ui/icons":"^4.11.2","@material-ui/lab":"^4.0.0-alpha.58","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","@types/jest":"^26.0.15","@types/lodash":"^4.14.168","@types/node":"^12.0.0","@types/react":"^17.0.0","@types/react-dom":"^17.0.0","@types/react-router-dom":"^5.1.7","@types/webfontloader":"^1.6.32","axios":"^0.21.1","clsx":"^1.1.1","cuid":"^2.1.8","formik":"^2.2.6","lodash":"^4.17.21","node-sass":"^5.0.0","react":"^17.0.2","react-dom":"^17.0.2","react-redux":"^7.2.3","react-router-dom":"^5.2.0","react-scripts":"4.0.3","redux":"^4.0.5","redux-observable":"^1.2.0","reselect":"^4.0.0","rxjs":"^6.6.7","typesafe-actions":"^5.1.0","typescript":"^4.1.2","web-vitals":"^1.0.1","webfontloader":"^1.6.28","yup":"^0.32.9"},"scripts":{"predeploy":"yarn build","deploy":"gh-pages -d build","start":"react-scripts start","build":"react-scripts build"},"eslintConfig":{"extends":["react-app","react-app/jest"],"rules":{"import/no-anonymous-default-export":"off","import/newline-after-import":"error","import/order":["error",{"groups":["builtin","external","internal","parent","sibling","index"],"newlines-between":"always"}]}},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"gh-pages":"^3.1.0"}}')},385:function(e,t,n){},386:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getTickers",(function(){return S})),n.d(r,"getL2",(function(){return C}));var a={};n.r(a),n.d(a,"set",(function(){return D})),n.d(a,"get",(function(){return F}));var c={};n.r(c),n.d(c,"initAssetList",(function(){return te})),n.d(c,"updateAvailableAssets",(function(){return ne})),n.d(c,"fetchAvailableAssets",(function(){return re})),n.d(c,"getSingleAsset",(function(){return ae}));var i=n(51),s=n.n(i),o=n(76),u=n(0),l=n(15),d=n.n(l),b=n(7),p=n(26),f=n(450),j=n(446),m=n(84),O=n(451),h=n(453),x=n(131),v=n(50),g=n(68),y=n(454),A=n(159),w=n.n(A),S=function(){var e=Object(o.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.request({method:"get",url:"https://api.blockchain.com/v3/exchange/tickers"});case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(o.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.symbol,e.next=3,w.a.request({method:"get",url:"https://api.blockchain.com/v3/exchange/l2/".concat(n)});case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=n(160),L=k.version||0,N=k.name||0,E="".concat(N,"::").concat(L,"::"),D=function(e,t){if(localStorage)try{var n=JSON.stringify(t);localStorage.setItem(E+e,n)}catch(r){throw new Error("store serialization failed")}},F=function(e){if(localStorage)try{var t=localStorage.getItem(E+e);if(null==t)return;return JSON.parse(t)}catch(n){throw new Error("store deserialization failed")}},q={ExchangeAPI:r,LocalStorage:a},I=n(18),_=n(457),z=n(25),P=n(49),R=n(438),B=n(439),T=n(220),J=n(221),M=n(440),W=n(219),H=n(459),V=n(234),U=n(222),X=n(52),Q=n(141),G=n.n(Q),K=Object(X.createAsyncAction)("@app fetchAvailableAssets Request","@app fetchAvailableAssets Success","@app fetchAvailableAssets Failure")(),Y=Object(X.createAsyncAction)("@app fetchSingleAsset Request","@app fetchSingleAsset Success","@app fetchSingleAsset Failure")(),Z=Object(X.createAction)("@app initAssetList")(),$=Object(X.createAction)("@app deleteAsset",(function(e){return e}))(),ee=Object(X.createAction)("@app addAsset",(function(e){return{symbol:e.symbol,comment:e.comment}}))(),te=function(){return Object(W.a)(Z())},ne=function(){return Object(H.a)(0,3e5).pipe(Object(R.a)(K.request()))},re=function(e,t,n){var r=n.ExchangeAPI;return e.pipe(Object(B.a)(Object(X.isActionOf)(K.request)),Object(T.a)((function(){return Object(V.a)(r.getTickers())})),Object(J.a)((function(e){if(!e)return[];var t,n=[],r=Object(P.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,c=a.last_trade_price,i=a.symbol,s=i.split("-")[0],o=i.split("-")[1];"USD"===o&&n.push({id:G()(),symbol:i,name:s,currency:o,price:c})}}catch(u){r.e(u)}finally{r.f()}return n})),Object(M.a)((function(e){return Object(U.a)(e)})),Object(J.a)((function(e){return K.success(e)})),Object(M.a)((function(e){return Object(W.a)(K.failure(e))})))},ae=function(e,t,n){var r=n.ExchangeAPI;return e.pipe(Object(B.a)(Object(X.isActionOf)(Y.request)),Object(T.a)((function(e){var t=e.payload;return Object(V.a)(r.getL2({symbol:t}))})),Object(J.a)((function(e){var t=e.bids,n=e.asks;return{symbol:e.symbol,orders:t.map((function(e){return Object(z.a)(Object(z.a)({},e),{},{id:G()()})})),offers:n.map((function(e){return Object(z.a)(Object(z.a)({},e),{},{id:G()()})}))}})),Object(M.a)((function(e){return Object(U.a)(e)})),Object(J.a)((function(e){return Y.success(e)})),Object(M.a)((function(e){return Object(W.a)(Y.failure(e))})))},ce=_.a.apply(void 0,Object(I.a)(Object.values(c))),ie=n(142),se=q.LocalStorage,oe={assetList:[],availableAssets:[],singleAsset:void 0},ue=Object(X.createReducer)(oe).handleAction(Z,(function(e){var t=se.get("assetList");return t||(t=oe.assetList,se.set("assetList",t)),Object(z.a)(Object(z.a)({},e),{},{assetList:t})})).handleAction(K.success,(function(e,t){return Object(z.a)(Object(z.a)({},e),{},{availableAssets:t.payload})})).handleAction($,(function(e,t){var n,r=[],a=Object(ie.cloneDeep)(e.assetList),c=Object(P.a)(a);try{for(c.s();!(n=c.n()).done;){var i=n.value;i.id!==t.payload&&r.push(Object(ie.cloneDeep)(i))}}catch(s){c.e(s)}finally{c.f()}return se.set("assetList",r),Object(z.a)(Object(z.a)({},e),{},{assetList:r})})).handleAction(ee,(function(e,t){var n=e.availableAssets.find((function(e){return e.symbol===t.payload.symbol}));if(!n)return e;var r=Object(ie.cloneDeep)(e.assetList);return r.push(Object(z.a)(Object(z.a)({},n),{},{comment:t.payload.comment})),se.set("assetList",r),Object(z.a)(Object(z.a)({},e),{},{assetList:r})})).handleAction(Y.success,(function(e,t){return Object(z.a)(Object(z.a)({},e),{},{singleAsset:t.payload})})),le=Object(g.c)({App:ue}),de=function(e){return e.App.assetList},be=function(e){return e.App.singleAsset},pe=function(e){return e.App.availableAssets},fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||g.d,je=function(e){var t=Object(y.a)({dependencies:q}),n=[t],r=fe(g.a.apply(void 0,n)),a=Object(g.e)(le,e,r);return t.run(ce),a},me=n(43),Oe=Object(me.a)((function(e){return{assetList:{maxWidth:"1200px",width:"100%",maxHeight:"790px",height:"100%"}}})),he=n(9),xe=function(){var e=Oe(),t=Object(v.b)(),n=Object(p.e)(),r=Object(v.c)(de),a=Object(u.useMemo)((function(){return[{field:"symbol",headerName:"Asset",width:120},{field:"name",headerName:"Name",width:120},{field:"comment",headerName:"Comment",flex:1},{field:"price",headerName:"Price",type:"number",width:120},{field:"",headerName:"Action",sortable:!1,disableClickEventBubbling:!0,renderCell:function(e){var n=e.row.id;return Object(he.jsx)(m.a,{onClick:function(){return t($(n))},children:"Remove"})}}]}),[t]);return Object(he.jsx)("div",{className:e.assetList,children:Object(he.jsx)(x.a,{onRowClick:function(e){var t=e.row.symbol;return n.push("/".concat(t))},rows:r,columns:a,pageSize:13})})},ve=Object(me.a)((function(e){return{singleAsset:{maxWidth:"1200px",maxHeight:"790px",width:"100%",height:"100%"}}})),ge=function(){var e=Object(p.f)().symbol,t=Object(v.b)(),n=Object(v.c)(be),r=ve();Object(u.useEffect)((function(){t(Y.request(e))}),[e,t]);var a=Object(u.useMemo)((function(){return(null===n||void 0===n?void 0:n.orders)||[]}),[n]),c=Object(u.useMemo)((function(){return[{field:"num",headerName:"Number of orders",flex:1},{field:"qty",headerName:"Quantity",flex:1},{field:"px",headerName:"Price",flex:1}]}),[]);return Object(he.jsx)("div",{className:r.singleAsset,children:Object(he.jsx)(x.a,{rows:a,columns:c,pageSize:13})})},ye=n(165),Ae=n(143),we=n(458),Se=n(447),Ce=n(448),ke=n(175),Le=n(449),Ne=n(455),Ee=Object(me.a)((function(e){return{addAssetDialog:{minWidth:"300px"},addAssetContent:{"& > *":{marginBottom:"30px"}},tooltip:{backgroundColor:"#AF0101 !important",color:"#ffffff !important"},arrow:{color:"#AF0101 !important",alignSelf:"end"}}})),De=function(e){var t=e.isOpen,n=void 0!==t&&t,r=e.onClose,a=Ee(),c=Object(v.b)(),i=Object(v.c)(pe),l=Object(u.useMemo)((function(){return{comment:"",asset:void 0}}),[]),d=function(){var e=Object(o.a)(s.a.mark((function e(t,n){var a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.resetForm,c(ee({symbol:(null===t||void 0===t||null===(a=t.asset)||void 0===a?void 0:a.symbol)||"",comment:t.comment})),i(),r();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(he.jsx)(ye.b,{initialValues:l,onSubmit:d,enableReinitialize:!0,validationSchema:Ae.a().shape({comment:Ae.b().min(3,"Comment must be at least 3 characters long"),asset:Ae.a().required("Asset is required.")}),children:function(e){var t=e.handleSubmit,c=e.values,s=e.handleChange,o=e.setFieldValue,u=e.errors;return Object(he.jsx)(we.a,{open:n,children:Object(he.jsxs)(ye.a,{onSubmit:t,className:a.addAssetDialog,children:[Object(he.jsx)(Se.a,{children:"Add asset"}),Object(he.jsxs)(Ce.a,{className:a.addAssetContent,children:[Object(he.jsx)(Ie,{title:u.asset,children:Object(he.jsx)(Ne.a,{id:"city_id",options:i,autoComplete:!0,onChange:function(e,t){return o("asset",t||l.asset)},getOptionLabel:function(e){return e.symbol},renderInput:function(e){return Object(he.jsx)(ke.a,Object(z.a)(Object(z.a)({},e),{},{type:"text",name:"asset",variant:"outlined",placeholder:"Enter asset name",label:"Add asset"}))}})}),Object(he.jsx)(Ie,{title:u.comment,children:Object(he.jsx)(ke.a,{type:"text",name:"comment",variant:"outlined",placeholder:"Enter asset comment",label:"Custom comment",fullWidth:!0,multiline:!0,rows:4,onChange:s,value:c.comment,error:!!u.comment})})]}),Object(he.jsxs)(Le.a,{children:[Object(he.jsx)(m.a,{onClick:function(){return r()},variant:"contained",color:"primary",children:"Cancel"}),Object(he.jsx)(m.a,{type:"submit",variant:"contained",color:"primary",children:"Submit"})]})]})})}})},Fe=n(169),qe=Object(me.a)((function(e){return{tooltip:{backgroundColor:"#AF0101 !important",color:"#ffffff !important",fontSize:"10px"},arrow:{color:"#AF0101 !important",alignSelf:"end"}}})),Ie=function(e){var t=e.children,n=e.title,r=void 0===n?"":n,a=qe();return Object(he.jsx)(Fe.a,{arrow:!0,placement:"top-end",open:!!r,title:r,classes:{tooltip:a.tooltip,arrow:a.arrow},children:t})},_e=n(452),ze=Object(me.a)((function(e){return{app:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",height:"100%",width:"100%",padding:"0px 20px"},appBar:{maxWidth:"1200px",maxHeight:"790px",width:"100%"},content:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"}}})),Pe=function(){var e=ze(),t=Object(u.useState)(!1),n=Object(b.a)(t,2),r=n[0],a=n[1],c=Object(p.e)();return Object(he.jsxs)("div",{className:e.app,children:[Object(he.jsx)(De,{isOpen:r,onClose:function(){return a(!1)}}),Object(he.jsx)(f.a,{position:"static",className:e.appBar,children:Object(he.jsxs)(j.a,{children:[Object(he.jsx)(p.a,{path:"/",exact:!0,render:function(){return Object(he.jsx)(m.a,{size:"large",variant:"contained",onClick:function(){return a(!0)},children:"Add new asset"})}}),Object(he.jsx)(p.a,{path:"/:symbol",render:function(){return Object(he.jsx)(O.a,{size:"medium",variant:"extended",onClick:function(){return c.push("/")},children:Object(he.jsx)(_e.a,{})})}})]})}),Object(he.jsx)(h.a,{}),Object(he.jsx)(p.a,{path:"/",exact:!0,render:function(){return Object(he.jsx)(xe,{})}}),Object(he.jsx)(p.a,{path:"/:symbol",render:function(){return Object(he.jsx)(ge,{})}})]})},Re=n(443),Be=n(86),Te=n(233),Je=n.n(Te),Me=n(87),We=Object(Me.a)(Object(z.a)({},{})),He=["Roboto:300,400,700,800,900"],Ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,461)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};n(385);(function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=je(),Je.a.load({google:{families:He}}),d.a.render(Object(he.jsx)(v.a,{store:t,children:Object(he.jsx)(Re.a,{theme:We,children:Object(he.jsx)(Be.a,{basename:"/ticker-list",children:Object(he.jsx)(Pe,{})})})}),document.getElementById("root"));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),Ve()}},[[386,1,2]]]);
//# sourceMappingURL=main.ed07e5d1.chunk.js.map